---
title: "STL容器 常數"
date: 2030-05-29T18:51:06+08:00
draft: true
---

為了不要被卡常，決定來測一下STL的常數><

### 測量
我會分別用三種數據量（$10^5,\\, 10^6 ,\\, 10^7$）去測某個函數要跑的時間，  
跟基礎的陣列寫入去做比較，  
基本上還是有一定的不準確度，  
不過就參考一下哪個跑比較快。  


註：  
都是在`int`下比較，如果操作有$\log$，會以$\log_2$次操作去比較。

### 編譯
使用WSL的bash去做編譯及執行，  
<details>
  <summary>Code</summary>

```bash
g++ -Wall -std=gnu++14 -o $1.exe $1.cpp
for i in {1..10}
do
   ./$1.exe
done
```

</details>  

### 執行結果

#### vector
 
|       |`int[]`|`resize`|`operator[]`\*|`push_back`|`emplace_back`|`reserve`+<br/>`emplace_back`|`clear`|
|:-----:|-------|--------|------------|-----------|--------------|-----------------------------|-------|
|$10^5$ |0.719  |0.027   |0.734       |2.263      |2.100         |1.710                        |0.001  |
|$10^6$ |6.685  |0.253   |6.896       |22.699     |20.789        |17.454                       |0.002  |
|$10^7$ |71.340 |2.128   |72.512      |220.931    |203.209       |176.095                      |0.001  |
|Ratio  |**1**  |-    |**$\approx$ 1**|**3**      |**2.85**      |**2.5**                      |-       |

單位：毫秒(ms)
\*註：測量時是測量寫入時間。  

#### queue

|       |`int[]`|`push` |`pop`  |`front`*|
|:-----:|-------|-------|-------|------- |
|$10^5$ |0.719  |2.823  |1.038  |   |
|$10^6$ |6.685  |29.777 |10.456 |  |
|$10^7$ |71.340 |295.540|111.669| |
|Ratio  |**1**  |**4.1**|**1.6**|

單位：毫秒(ms)
\*註：測量時是測量寫入時間。  

#### stack

|       |`int[]`|`push` |`pop`  |`top`\*|
|:-----:|-------|-------|-------|-------|
|$10^5$ |0.719  |2.765  |1.001  |       |
|$10^6$ |6.685  |28.246 |9.940  |       |
|$10^7$ |71.340 |293.137|101.049|       |
|Ratio  |**1**  |**4.1**|**1.5**||

單位：毫秒(ms)  
\*註：測量時是測量寫入時間。  

#### deque

|       |`int[]`|`push_front`|`pop_front`|`push_back`|`pop_back`|`front`\*|`back`\*|`operator[]`\*|
|:-----:|-------|------------|-----------|-----------|----------|---------|--------|--------|
|$10^5$ |0.719  |1.990       |0.716      |1.979		 |0.627	    |2.524	  |3.193   |8.286	|
|$10^6$ |6.685  |20.147      |7.217      |19.788	 |6.347		|25.571	  |28.352  |80.441	|
|$10^7$ |71.340 |199.951     |71.479	 |199.353	 |65.616	|271.633  |296.145 |983.237	|
|Ratio  |**1**  |						

單位：毫秒(ms)
\*註：測量時是測量寫入時間。  